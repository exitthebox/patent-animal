<ion-header>
  <ion-toolbar>
    <ion-title>Search Titles by Classification</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h2 
    style="text-align: center;"
    *ngIf="selectedArray.length === 0"
    >
      Select a Classification Letter
  </h2>

  <!-- *ngIf="selectedArray.length > 0" 
  
  [hidden]="!searchTermBar"
    #searchTermBar
    class="searchTermBar"
-->

  <div
    [@hideShowSearchBar]="state"

  ><ion-searchbar
    animated="true"
    placeholder="Search Term"
    searchIcon="search"
    [(ngModel)]="searchTermInput"
    >
  </ion-searchbar></div
  >
 <div class="searchButtonWrapper" *ngIf="selectedArray.length > 0">
    <ion-button 
      
      (click)="searchSubgroup(searchTermInput)"
      class="searchButtonSize"
      >Search
    </ion-button>
    <ion-button
      (click)="clearValues(matGridTileEl)"
      class="searchButtonSize"
    >Clear
  </ion-button>
 </div>

 <div class="centerIonSpinner">
  <ion-spinner *ngIf="searchTermSpinner"></ion-spinner>

 </div>

  <ion-grid fixed>
    <ion-row>
      <!-- <ion-col size="12" size-xs="12" size-sm="6" size-md="4" size-lg="3" *ngFor="let item of [].constructor(9)"> -->
      <ion-col size="4">
      
          <ion-item class="cpcCodes" (click)="selectLetter('A')">
            <ion-label>
              <h1>A</h1>
            </ion-label>
          </ion-item>
        
      </ion-col>

      <ion-col size="4">
      
          <!-- <ion-item class="cpcCodes" [routerLink]="['/code-search/', 'B']"> -->
          <ion-item class="cpcCodes" (click)="selectLetter('B')">
            <ion-label>
              <h1>B</h1>
            </ion-label>
          </ion-item>
        
      </ion-col>

      <ion-col size="4">

      
          <ion-item class="cpcCodes" (click)="selectLetter('C')">
            <ion-label>

          
              <h1>C</h1>
            </ion-label>
          </ion-item>
        
      </ion-col>
      <ion-col size="4">
        
            <ion-item class="cpcCodes" (click)="selectLetter('D')">
              <ion-label>

            
                <h1>D</h1>
              </ion-label>
            </ion-item>
          
        </ion-col>
  
        <ion-col size="4">
        
            <ion-item class="cpcCodes" (click)="selectLetter('E')">
              <ion-label>

            
                <h1>E</h1>
              </ion-label>
            </ion-item>
          
        </ion-col>
  
        <ion-col size="4">
  
        
            <ion-item class="cpcCodes" (click)="selectLetter('F')">
              <ion-label>

            
                <h1>F</h1>
              </ion-label>
            </ion-item>
          
        </ion-col>

        <ion-col size="4">
          
              <ion-item class="cpcCodes" (click)="selectLetter('G')">
                <ion-label>

              
                  <h1>G</h1>
                </ion-label>
              </ion-item>
            
          </ion-col>
    
          <ion-col size="4">
          
              <ion-item class="cpcCodes" (click)="selectLetter('H')">
                <ion-label>

              
                  <h1>H</h1>
                </ion-label>
              </ion-item>
            
          </ion-col>
    
          <ion-col size="4">
    
          
              <ion-item class="cpcCodes" (click)="selectLetter('Y')">
                <ion-label>

              
                  <h1>Y</h1>
                </ion-label>
              </ion-item>
            
          </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Filter CPC Code -->

  <ion-searchbar
      [@hideShowFilterBar]="filterBarState"
      
      placeholder="Filter by CPC Text"
      [(ngModel)]="filterCpcCode"
      debounce="500"
      (ionChange)="searchTerm$.next($event.target?.value)"
    ></ion-searchbar>

  <div style="padding: 10px;">
    
    <!-- <ul>
      <li *ngFor="let code of cpcCodes">{{code.classificationNumber}}:
        {{code.classificationText | sentencecase | slice: 0:75}}...</li>
    </ul> 

        clickColor
        ngDefaultControl
  -->
    <mat-grid-list cols="2" rowHeight="2:1">
      <mat-grid-tile 
        #matGridTileEl
        *ngFor="let code of cpcCodes"
        [(ngModel)]="code.checkedToggle"
        (click)="toggleCheckbox(code.classificationNumber, !code.checkedToggle)"
        ngDefaultControl
        clickColor
        
      >
      <!-- <mat-grid-tile 
        
        *ngFor="let code of cpcCodes"
        [(ngModel)]="code.checkedToggle"
        (click)="toggleCheckbox(code.classificationNumber, !code.checkedToggle)"
        ngDefaultControl
        [ngClass]="setCheckedStyle()"
      > -->
        <!-- <mat-checkbox 
          checked="false"
          [(ngModel)]="code.checkedToggle"
          (change)="toggleCheckbox(code.classificationNumber, !code.checkedToggle)">
        </mat-checkbox> -->

          {{code.classificationNumber}}:
        {{code.classificationText | sentencecase | slice: 0:75}}...</mat-grid-tile>
    </mat-grid-list>
    

    <!-- below is the grid -->

  </div>
  
  <!-- Skeleton Text -->
  <!-- <div *ngIf="selectCpc">
      <div class="ion-padding custom-skeleton">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <ion-skeleton-text animated></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </div><div class="ion-padding custom-skeleton">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <ion-skeleton-text animated></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </div><div class="ion-padding custom-skeleton">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <ion-skeleton-text animated></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </div><div class="ion-padding custom-skeleton">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <ion-skeleton-text animated></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </div><div class="ion-padding custom-skeleton">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <ion-skeleton-text animated></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </div><div class="ion-padding custom-skeleton">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <ion-skeleton-text animated></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </div>
  </div> -->

</ion-content>

